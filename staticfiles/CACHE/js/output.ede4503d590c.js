function toggleCheckboxes(masterCheckbox){const checkboxes=document.querySelectorAll('.checkbox-item');checkboxes.forEach(checkbox=>{checkbox.checked=masterCheckbox.checked;});}
function getCheckedIds(){const checkedCheckboxes=document.querySelectorAll('.checkbox-item:checked');const ids=Array.from(checkedCheckboxes).map(checkbox=>checkbox.value);return ids;}
document.getElementById('bulk-delete').addEventListener('click',function(){const chargeIds=getCheckedIds();if(chargeIds.length===0){return;}
const csrfToken=document.querySelector('[name=csrfmiddlewaretoken]').value;const url="/management/expense/bulk-delete/";fetch(url,{method:'POST',headers:{'Content-Type':'application/json','X-CSRFToken':csrfToken},body:JSON.stringify({charge_ids:chargeIds,action:'delete'})}).then(response=>response.json()).then(data=>{if(data.status==='success'){location.reload();}else{}}).catch(error=>{console.error('Erreur:',error);alert('Une erreur est survenue lors de la suppression des charges.');});});;